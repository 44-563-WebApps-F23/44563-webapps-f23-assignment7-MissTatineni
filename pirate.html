<!DOCTYPE html>
<html lang="en">
<head>
  <title>Treasure Hunt!!</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <style>

       .container{
        display:flex ;
        padding:2px;
        gap: 6px;
       }

        h1{
         text-align: center;
         background-color: azure;
         font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        p{
            text-align : center;
            font-style: italic;
        }

        .top {
            text-align: center;
            margin-top: 5px;
            background-color: rgb(154, 101, 149);
            padding: 5px;
            border-radius: 3px;
            border-style: dotted;
            cursor: pointer;
            font-style: oblique;
       }

       .top:hover{
        background-color: blanchedalmond;
       }

       #locations{
        font-weight:bold;
        display:block;
       }

    </style>
</head>
<body>

  <h1>Find the treasure by Bhargavi Tatineni</h1>
  <p>Click on the locations to search for treasure, beware the traps</p>
  <p id="locations" id="locations">Number of locations checked is zero</p><br>
  <div id="penalty" class="top"  id="penalty">Penalty is zero</div><br>
  <div class="top" onclick="updateHelpAndPenalty()">Click for help</div><br>
  <div id="help" class="top" id="help">Help report</div><br>

  <div class="container">
        <div><img src="location.jpg" id="location0" onclick="check(0)" width="70 px" height="70 px" alt="starting image"></div>
        <div><img src="location.jpg" id="location1" onclick="check(1)" width="70 px" height="70 px" alt="starting image"></div>
        <div><img src="location.jpg" id="location2" onclick="check(2)" width="70 px" height="70 px" alt="starting image"></div>
        <div><img src="location.jpg" id="location3" onclick="check(3)" width="70 px" height="70 px" alt="starting image"></div>
        <div><img src="location.jpg" id="location4" onclick="check(4)" width="70 px" height="70 px" alt="starting image"></div>   
  </div>

    <div class="container" >
        <div><img src="location.jpg" id="location5" onclick="check(5)" width="70  px" height="70  px" alt="starting image"></div>
        <div><img src="location.jpg" id="location6" onclick="check(6)" width="70  px" height="70  px" alt="starting image"></div>
        <div><img src="location.jpg" id="location7" onclick="check(7)" width="70  px" height="70  px" alt="starting image"></div>
        <div><img src="location.jpg" id="location8" onclick="check(8)" width="70  px" height="70  px" alt="starting image"></div>
        <div><img src="location.jpg" id="location9" onclick="check(9)" width="70  px" height="70  px" alt="starting image"></div>
    </div>     

    <div class="container">
        <div><img src="location.jpg" id="location10" onclick="check(10)" width="70 px" height="70 px" alt="starting image"></div>
        <div><img src="location.jpg" id="location11" onclick="check(11)" width="70 px" height="70 px" alt="starting image"></div>
        <div><img src="location.jpg" id="location12" onclick="check(12)" width="70 px" height="70 px" alt="starting image"></div>
        <div><img src="location.jpg" id="location13" onclick="check(13)" width="70 px" height="70 px" alt="starting image"></div>
        <div><img src="location.jpg" id="location14" onclick="check(14)" width="70 px" height="70 px" alt="starting image"></div>   
  </div>

  <div class="container">
    <div><img src="location.jpg" id="location15" onclick="check(15)" width="70 px" height="70 px" alt="starting image"></div>
    <div><img src="location.jpg" id="location16" onclick="check(16)" width="70 px" height="70 px" alt="starting image"></div>
    <div><img src="location.jpg" id="location17" onclick="check(17)" width="70 px" height="70 px" alt="starting image"></div>
    <div><img src="location.jpg" id="location18" onclick="check(18)" width="70 px" height="70 px" alt="starting image"></div>
    <div><img src="location.jpg" id="location19" onclick="check(19)" width="70 px" height="70 px" alt="starting image"></div>   
</div>

<div class="container">
    <div><img src="location.jpg" id="location20" onclick="check(20)" width="70 px" height="70 px" alt="starting image"></div>
    <div><img src="location.jpg" id="location21" onclick="check(21)" width="70 px" height="70 px" alt="starting image"></div>
    <div><img src="location.jpg" id="location22" onclick="check(22)" width="70 px" height="70 px" alt="starting image"></div>
    <div><img src="location.jpg" id="location23" onclick="check(23)" width="70 px" height="70 px" alt="starting image"></div>
    <div><img src="location.jpg" id="location24" onclick="check(24)" width="70 px" height="70 px" alt="starting image"></div>   
</div> <br>    

<button class="btn btn-warning btn-start-timer" onclick="newGame()">New Game</button>
    </main>
      
    <script>
        let ids = [];
        let checkCount = 0;
        let penalty = 0;
        let lastCheck = 0;
        let treasureLocation = 5;
        let trapLocation = 18;
        let gameOver = false;

        for (let i = 0; i < 25; i++) {
            let id = `location${i}`;
            ids.push(id);
            document.getElementById(id).onclick = function() {
                check(i);
            };
        }

        function check(position) {
            console.log("Clicked position: " + position);
            if (gameOver) return;

            let id = ids[position];
            let imageElement = document.getElementById(id);

            if (position === treasureLocation) {
                imageElement.src = "treasure.jpg";
                gameOver = true;
                penalty -= 3;
            } else if (position === trapLocation) {
                imageElement.src = "trap.jpg";
                gameOver = true;
                penalty += 4;
            } else {
                imageElement.src = "pirate.jpg";
                penalty += 1;
            }

            checkCount += 1;
            document.getElementById("locations").innerText = `Number of locations checked is ${checkCount}.`;
            document.getElementById("penalty").innerText = `Penalty is ${penalty}.`;
            lastCheck = position;
        }

        function help() {
            if (gameOver) return;

            const rowLast = Math.floor(lastCheck / 5);
            const colLast = lastCheck % 5;
            const rowTreasure = Math.floor(treasureLocation / 5);
            const colTreasure = treasureLocation % 5;

            const distance = Math.abs(rowLast - rowTreasure) + Math.abs(colLast - colTreasure);

            if (distance === 1) {
                document.getElementById(`location${treasureLocation}`).style.borderColor = "red";
                return "Can Smell It";
            } else if (distance === 2) {
                document.getElementById(`location${treasureLocation}`).style.borderColor = "orange";
                return "Close Matie";
            } else {
                document.getElementById(`location${treasureLocation}`).style.borderColor = "white";
                return "Step Faster";
            }
        }
        function updateHelpAndPenalty() {
            if (gameOver) return;
            const helpMessage = help();
            document.getElementById("help").innerText = helpMessage;
            penalty += 2;
            document.getElementById("penalty").innerText = `Penalty is ${penalty}.`;
        }
        const helpButton = document.getElementById("helpButton");
        if (helpButton) {
            helpButton.addEventListener("click", updateHelpAndPenalty);
        }

        
    function newGame() {
    checkCount = 0;
    penalty = 0;
    lastCheck = 0;
    gameOver = false;
    treasureLocation = Math.floor(Math.random() * 25);
    trapLocation = Math.floor(Math.random() * 25); 
    while (trapLocation === treasureLocation) {
      trapLocation = Math.floor(Math.random() * 25);
    }
    for (let i = 0; i < 25; i++) {
      const id = `location${i}`;
      const imageElement = document.getElementById(id);
      imageElement.src = "treasure.jpg";
      imageElement.style.borderColor = "white";
    }
    document.getElementById("locations").innerText = `Number of locations checked is ${checkCount}.`;
    document.getElementById("penalty").innerText = `Penalty is ${penalty}.`;
    document.getElementById("help").innerText = "Help report";
  }     
  
 </script>

</body>
</html>

  </body>
</html>
